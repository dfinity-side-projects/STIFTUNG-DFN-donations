<html>

<head>
    <title>DFINTIY Foundation Funding Widget</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:700|Open+Sans:400,700" rel="stylesheet">
    <link rel="stylesheet" href="./app.css" type="text/css" />
</head>

<body>
    <div id="content">
        <!-- Logo -->
        <div id="logo">
            <img src="images/dfinity-logo-large.png" />
        </div>
        <!-- Progress -->
        <div id="progress">
            <!-- <div class="box-header">Donate to Stiftung DFINITY. 1M Seed Round</div> -->
            <div class="box-content">
                <div class="progress-bar-dashboard">
                    <div class="lower">? % Done</div>
                    <div class="upper">1M CHF Target</div>
                    <div class="progress-bar" id="main-progress-bar">
                        <div class="complete"></div>
                        <div class="complete"></div>
                        <div class="complete"></div>
                        <div class="complete"></div>
                        <div class="complete"></div>
                        <div class="complete"></div>
                        <div class="complete"></div>
                        <div class="complete"></div>
                        <div class="complete"></div>
                        <div></div>
                    </div>
                </div>
                <div id="total-received">? CHF Received.</div>
                <div class="dim">Total value of seed funding received in ETH and fiat (recorded in Swiss Francs)</div>
            </div>
        </div>
        <div class="clearfix"></div>
        <!-- Tasks List -->
        <div id="tasks">
            <div class="box-header">MAKE DONATIONS</div>
            <div class="box-content">
                <ul>
                    <li onclick="ui.showTerms()">
                        <div id="task-agree"><span class="task-number">1</span> &nbsp; Agree the process &amp; terms<span class="tick"><span style="visibility:hidden">&#10004</span></span>
                        </div>
                    </li>
                    <li onclick="ui.showCreateSeed()">
                        <div id="task-create-seed"><span class="task-number">2</span> &nbsp; Create &amp; save your DFN address<span class="tick"><span style="visibility:hidden">&#10004</span></span>
                        </div>
                    </li>
                    <li onclick="ui.showExplainForwarding()">
                        <div id="task-understand-fwd-eth"><span class="task-number">3</span> &nbsp; Understand ETH forwarding<span class="tick"><span style="visibility:hidden">&#10004</span></span>
                        </div>
                    </li>
                    <li onclick="ui.showExplainForwarding()">
                        <div id="task-donate"><span class="task-number">4</span> &nbsp; Make donations<span class="tick"><span style="visibility:hidden">&#10004</span></span>
                        </div>
                    </li>
                </ul>
                <br/>
                <br/>
                <br/>
            </div>
        </div>
        <!-- Dashboard -->
        <div id="dashboard">
            <div class="box-header">YOUR STATUS</div>
            <div class="box-content">
                <div id="error-phase-over" class="error" style="display: none">
                    The foundation collection seed phase is over.
                    <br/>
                    <a class="blink" href="">Please withdraw remaining ETH that could not be forwarded.</a>
                </div>
                <div id="error-eth-forwarding" class="error" style="display: none">
                    There was an error forwarding ETH.
                    <br/>
                    <a class="blink" href="javascript:ui.showWithdrawEth()">Please withdraw remaining ETH</a> or <a class="blink" href="javascript:app.retryForwarding()">try forwarding again</a>
                </div>
                <div id="genesis-dfinities">
                    <div class="amount">? DFN</div>
                    <div class="legend">Genesis Dfinities <a class="tip-link" href="">?</a></div>
                </div>
                <div id="eth-forwarding-address">
                    <div class="eth-address">?</div>
                    <div class="legend">ETH Forwarding Address <a class="tip-link" href="">?</a></div>
                </div>
                <ul>
                    <li class="dim">
                        <div>Ethereum full node <a class="tip-link" href="">?</a><span><a id="btn-ethereum-node" href="javascript:ui.showSelectEthereumNode()">...</a>&nbsp; | &nbsp;<span id="eth-client-status">?</span></span>
                        </div>
                    </li>
                    <li class="dim">
                        <div>ETH donations <a class="tip-link" href="">?</a><span><span id="donated-eth">?</span> donated (<span id="waiting-eth">?</span> <a href="javascript:ui.showWithdrawEth()">waiting</a>)</span>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="clearfix"></div>
        <!-- Console/event log -->
        <div id="console">
        </div>
        <div id="info">
            <div class="box-header">Seed Funding Overview</div>
            <div class="box-content">
                DFINITY is a decentralized "world compute platform" with numerous advanced features. Donations for Stiftung DFINITY, a supporting Swiss not-for-profit &amp; tax exempt foundation, are being collected in two rounds. Stiftung DFINITY will recommend genesis allocations of dfinities in return for donations. Donations made in this first "seed" round will be double counted.
                <br/>
                <i>Note: this Chrome extension must be open to forward ETH you are donating.</i>
            </div>
        </div>
        <!-- Disclaimer -->
        <div id="disclaimer">
            <div class="box-header">Software Disclaimer</div>
            <div class="box-content">
                THIS SOFTWARE IS PROVIDED "AS IS" AND ANY EXPRESSED OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
    <!-- Popup Dialog Windows -->
    <div id="withdraw-eth" class="dialog">
        <h2>Withdraw unsent ETH in your forwarding account</h2>
        <p>If there is ETH in your forwarding account that has not already been forwarded to the Foundation Collection Contract, you can withdraw it to an address you specify (such as an account at a cryptocurrency exchange or a private wallet).</p>
        <p>Withdraw to address:
            <input id="withdraw-eth-addr" type="text" class="textbox-custom" />
            <a href="javascript:ui.withdrawETH()" class="btn">Withdraw</a>
            <a href="javascript:ui.hideWithdrawEth()" class="btn">Cancel</a>
        </p>
    </div>
    <div id="create-dfn-seed" class="dialog">

        <h2>Create your DFN address seed, and store it very safely</h2>
        <p><i>This application does not store your DFN seed. <b>You must securely maintain this yourself</b>.</i>
            <p>Your DFN seed is a string of random words and is show below. You must have this seed to access your DFN later. This application does not store the seed for security reasons, and only keeps the derived keys it needs. Therefore, it is ESSENTIAL that you take a copy of your seed <i>right now</i> and store it safely or YOU WILL LOSE ALL ACCESS TO YOUR DFN.</p>
            <p>We recommend that you create physical, printed copies of your seed. For example, print out the seed onto paper and put it into a fireproof safe. If you keep electronic copies of your seed, make sure they are secure and nobody else can access them. For example, store an electronic seed inside a Mac OS X encrypted file.
                <p class="seed ">not yet generated</p>
                <p>
                    <a id="after-create-seed-button" href="javascript:javascript:ui.afterCreateSeed()" class="btn">OK, I have now saved my seed and will never lose it</a>
                    <a href="javascript:ui.hideCreateSeed()" class="btn">Cancel</a>
                </p>

    </div>
    <div id="verify-dfn-seed" class="dialog">
        <h2>Check you have your DFN seed in your possession!</h2>
        <p>This is your last chance to make sure you have your own copy of your seed. Please prove you have it.</p>
        <p><i>Note: After you have completed this step this application will erase its copy of the seed !!!</i></p>
        <p>
            <h3>Retype the DFN seed:</h3>
            <input id="typed-seed" type="text" class="textbox-custom" />
        </p>
        <div id="verify-seed-error" class="error-block" style="display:none;">
            You've entered an incorrect seed. Please retry, or go back and copy down the seed exactly as is. 
        </div>
        <p>
            <a href="javascript:ui.doValidateSeed()" class="btn">Validate Seed and ERASE</a>
            <a href="javascript:ui.beforeValidateSeed()" class="btn">Back</a>
        </p>
    </div>
    <div id="explain-eth-forwarding" class="dialog">
        <h2>You are ready to make ETH donations</h2>
        <p>Send ETH donations to: </p>
        <p id="eth-forwarding-address-explained" class="seed">...</p>
        <p>You can use any method you like to send ETH to this forwarding address. For example, you could send it directly from a cryptocurrency exchange, or from a wallet application such as Mist.</p>
        <p><i>KEEP THIS APPLICATION OPEN to allow it to forward donated ETH, and to monitor progress.</i></p>
        <div class="important-notes">
            <h3>Important Notes</h3>
            <p>This special "ETH forwarding address" was created from your DFN seed.</p>
            <p>Whenever this application detects that the "ETH forwarding address" has received ETH, it forwards the ETH to the Stiftung DFINITY smart contracts that are collecting donations.</p>
            <p>Stiftung DFINITY records the value donated in Swiss Francs (CHF) and uses this to calculate recommendations for genesis dfinities. Its systems are regularly updated with the CHF to ETH exchange rate for this purpose.</p>
            <p>When a total of 1M CHF in value has been received, Stiftung DFINITY will stop accepting further ETH donations. The application will allow you to withdraw any ETH you sent to the forwarding address after the limit was reached.</p>
            <p>Note that there is a small Ethereum gas cost associated with each donation, and this is deducted from the amount.</p>
        </div>
        <div class="important-notes">
            <h3>If You Have Made A Direct Donation in CHF...</h3>
            <a id="fiat-donation-information-expand" href="javascript:(function(){document.getElementById('fiat-donation-information').style.display = 'block'; document.getElementById('fiat-donation-information-expand').style.display = 'none';})()">expand...</a>
            <div id="fiat-donation-information" style="display:none;">
                <p>This ONLY applies if you have made a wire transfer of fiat money directly to DFINITY Stiftung (and made appropriate agreements with DFINITY Stiftung)</p>
                <p>In this case, DFINITY Stiftung needs the public key of your future DFINITY account before it can record your donation.</p>
                <p>Please notify an appropriate representative at DFINITY Stiftung that this is your DFINITY address (do NOT send ETH to this address):</p>
                <p><span id="dfn-address" class="eth-address">Checksummed DFN address should be here</span></p>
                <p>Once DFINITY Stiftung has reported your donation this extension will report the genesis DFN it will recommend you receive. Please report this address before the start of the funder period. Thank you.</p>
            </div>
        </div>
        <p>
            <a href="javascript:ui.doneExplainForwarding()" class="btn">OK I'm Ready!</a>
        </p>
    </div>
    <div id="select-full-node" class="dialog">
        <h2>Select Ethereum full node</h2>
        <p>Please select a full node this application will use to connect to the Ethereum network.</p>
        <p>Connect to local node: <a id="connect-localhost" class="eth-host" href="javascript:ui.onSelectEthereumNode('http://localhost:8545')">localhost:8545</a></p>
        <p>Connect to hosted node: <a id="connect-hosted" class="eth-host" href="javascript:ui.onSelectEthereumNode('hosted')">Hosted Node (Stiftung DFINITY)</a></p>
        <p>Or enter a full node that you fully trust, for example a full node that your company runs, or which Stiftung DFINITY announced on their Twitter feed:</p>
        <p>
            <input id='custom-full-node-address' type='text' width='100' />
            <input id='btn-custom-full-node' type='button' value='Connect' onclick="javascript:ui.onSelectEthereumNode(document.getElementById('custom-full-node-address').value)" />
        </p>
    </div>
    <div id="terms" class="dialog">
        <h2>Terms &amp; Conditions</h2>
        <div class="text-blocks">
            <p>
                BELOW ARE PLACEHOLDERS OF ACTUAL TERMS.
                <h3>- General - </h3>
                <p>
                    (*) The Donator must NOT be a US person by residency or citizenship, due to uncertainty and complexity of US Financial regulations.
                    <br> (*) The Donator should only donate if they're sophisticated blockchain developers, users or business who intend to build applications on top of the DFINITY network.
                    <br>
                </p>
                <h3>- DFN Tokens - </h3>
                <p>
                    (*) The DFN token is a participatory token that allows the holder to vote, mine, deploy or run software code on DFINITY network.
                    <br> (*) No guarantee on when or if the network will actually launch due to uncertainties of technical development
                    <br> (*) Upon successful donation, donators will immediately get a receipt of the DFN tokens based on their successful donated amount in CHF value.
                    <br> (*) There is no guarantee that the donator will actually get DFN tokens on DFINITY network. The foundation will only promise to *recommend* a genesis block for the DFINITY network when it launches. That genesis block encodes DFN tokens based on pro-rata donation amount of the donator.
                    <br> (*) No guarantee that such recommendation will be adopted by the community/miners of DFINITY network, nor is it guaranteed to be the only or main version (e.g. multiple forks could appear, like zCash vs. zCash Classic)
                    <br> (*) No Guarantee on value of DFN tokens and they are expected to be highly volatile. Could very well worth zero.
                    <br> (*) The inflation rate of DFINITY token is *expected* to change, based on the proposal adopted by Blockchain Nervous System or other upgrade mechanisms that the network adopts.
                    <br> (*) Losing the private key (seed) of the DFN tokens WILL result in permanent loss of the tokens.
                    <br>
                    <h3>- Donation - </h3>
                    <p>
                        (*) Methods of donation include sending Ether or Bitcoin, via the software client (Chrome extension) specified by the Foundation. If the donator wishes to make a fiat donation, it must be more than CHF 100,000 in amount and must be pre approved / verified by the foundation.
                        <br> (*) Any attempt to circumvent the official donation software and make direct donation to the foundation may be discarded in terms of DFN recommendation.
                        <br> (*) There will be two phases for the donation. The date of each phase can be decided arbitrarily or pushed out by the foundation at any point. Refer to the http://dfinity.network foundation website for the latest official recommendation.
                        <br> (*) The rate of DFN token will be based upon CHF value of the donated ETH or BTC - as predetermined in the Foundation Donation Contract and which can be updated by the Foundation at any time.
                        <br> (*) The Foundation is free to set the CHF buy rate for ETH or BTC based upon its own judgement of market and hence discount may be expected on the market rate. (The market rate will likely be based on an average of a few different crypto exchanges that the foundation decides and the foundation will attempt to the exchange rate on a periodic basis.).
                        <br>
                    </p>
                    <h3>- Phases - </h3>
                    <p>
                        (*) The first phase of the donation has a goal of 1m CHF. Once it hits the goal of 1M CHF, it will start countdown of 1 hour before the donation phase ends. The maximum duration that the first phase could last will be 6 weeks.
                        <br> (*) The second phase of the donation has a goal of 20m CHF. Once it hits the goal of 20M CHF, it will start countdown of 1 hour before the donation ends. The maximum duration that the second phase could last will be 6 weeks.
                        <br> (*) Any Fiat or Bitcoin donation will be recorded and validated by the foundation first. The foundation will then make an authorized update to the Foundation Donation Contract , which will count it towards the donation target for the current phase.
                        <br> (*) After the second phase of the donation ends, the foundation donation contract will be finalized with a recommendation of DFN token allocation. During the finalization, the additional token awarded to the early contributors will be reduced to their max cap percentage.
                        <br>
                    </p>
                    <h3> Early Contributor Tokens </h3> (*) The early contributors are the founders, engineers, researchers, investors and other strategic partners of the DFINITY network.
                    <br> (*) The donator accepts that in the foundation's recommended genesis block, there will be an early contributor pool that will be capped as X% of the total token pool.
                    <br> (*) The early contributors will make financial contribution to the tokens for their DFN tokens, however they have a significantly higher multiplier than regular donators, due to their past and expected future contributions in funding, technical development, business development and etc.. Further their tokens are capped at a max amount as a % and any extra tokens exceeding that threshold will later be reduced to that cap % after both phases of donation complete ("Finalization of DFN tokens").
                    <br>
                </p>
            </p>
            <p>
                <div id="us-person-error" class="error-block" style="display:none;">
                    You seem to be accessing from a US location. DFINITY Stiftung do not accept donations from any US persons or resident, due to regulatory complexities.
                </div>
            </p>
            <p>
                <input id="i-am-not-usa-resident" class="checkbox-custom" type="checkbox" />
                <label for="i-am-not-usa-resident" class="checkbox-custom-label">I confirm I am not a resident in or citzen of the United States of America.</label>
            </p>
            <p>
                <a disabled id="agree-terms-button" class="btn " href="javascript:ui.readTerms()">I Agree Terms &amp; Conditions </a>
                <a href="javascript:ui.hideTerms()">Cancel</a>
            </p>
        </div>
        <script type="text/javascript" src="./deps/bitcore-mnemonic.js"></script>
        <script type="text/javascript" src="./deps/ethereumjs-util.js"></script>
        <script type="text/javascript" src="./deps/ethereumjs-tx.js"></script>
        <script type="text/javascript" src="./deps/moment.min.js"></script>
        <script type="text/javascript" src="./app.js"></script>
</body>

</html>
